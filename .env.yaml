# ======================================
# QuickDCP â€” Environment Configuration
# ======================================

# --- API Server ---
API_BASE=http://localhost:8080
PORT=8080
ENV=development
DEBUG=true

# --- Authentication ---
# Customer + API key (for tests or SDKs)
QD_CUSTOMER=dev
QD_KEY=dev

# Worker token (for /jobs/internal/* endpoints)
WORKER_TOKEN=dev-worker-token

# Optional shared secret for /metrics or admin
ADMIN_KEY=dev-admin-key

# --- AWS / S3 ---
AWS_DEFAULT_REGION=eu-central-1
AWS_ACCESS_KEY_ID=your-access-key-id
AWS_SECRET_ACCESS_KEY=your-secret-key

# Buckets (must match Terraform outputs)
S3_BUCKET_INGEST=quickdcp-ingest
S3_BUCKET_OUT=quickdcp-out
S3_BUCKET_VAULT=quickdcp-vault
S3_BUCKET_LOGS=quickdcp-logs

# KMS CMK (from Terraform outputs)
KMS_KEY_ARN=arn:aws:kms:eu-central-1:123456789012:key/abcd-efgh-ijkl

# --- Paths ---
# Optional override for persistent volumes
LOGS_DIR=./logs
PUBLIC_DIR=./public
VAULT_DIR=./vault

# --- FilmPassport (EU legal compliance) ---
FILMPASSPORT_BASE=https://filmpassport.legal/api
FILMPASSPORT_KEY=your-filmpassport-api-key

# --- Time-Stamp Authority (TSA) ---
# External TSA endpoint (RFC-3161)
TSA_URL=https://tsa.example.org
TSA_CA_PATH=./certs/tsa-ca.crt

# --- Worker ---
POLL_MS=1000          # Poll interval in ms
MAX_CONCURRENT_JOBS=1 # Single-threaded local worker

# --- Metrics / Logging ---
LOG_LEVEL=INFO
JSON_LOGS=true
METRICS_ENABLED=true

# --- Misc ---
KILL=0                # Maintenance mode toggle (if 1, /health returns kill=1)
